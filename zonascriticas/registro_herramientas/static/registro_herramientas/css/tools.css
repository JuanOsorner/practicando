/* zonascriticas/registro_herramientas/static/registro_herramientas/css/tools.css */
/* v3.0 - Limpieza Final: Estilos de cards compactas movidos a global.css */

/* ====================================================== */
/* === 1. LAYOUT GENERAL Y HEADER === */
/* ====================================================== */
.tools-container {
    padding: 20px;
    padding-bottom: 140px; 
    max-width: 900px;
    margin: 0 auto;
    font-family: var(--fuente-principal);
    position: relative;
}

.tools-header { margin-bottom: 20px; text-align: center; }
.tools-header h2 { color: var(--color-primario-oscuro); font-weight: 700; margin-bottom: 5px; }
.tools-header p { color: var(--color-texto-secundario); font-size: 0.95em; }

/* ====================================================== */
/* === 2. COMPONENTES ESPECÍFICOS DE LA VISTA TOOLS === */
/* ====================================================== */
/* Nota: Estos componentes son únicos para la vista de selección principal */

/* Buscador Redondo (Diferente al global) */
.main-search-bar { position: relative; margin-bottom: 15px; }
.main-search-bar i { position: absolute; left: 15px; top: 50%; transform: translateY(-50%); color: var(--color-texto-secundario); }
.main-search-bar input {
    width: 100%; padding: 12px 12px 12px 40px;
    border: 1px solid var(--color-borde); border-radius: 25px;
    background: white; font-size: 1rem; font-family: var(--fuente-principal);
    box-shadow: var(--sombra-suave); transition: border-color 0.3s;
}
.main-search-bar input:focus { outline: none; border-color: var(--color-primario-claro); }

/* Tabs de Categoría */
.tabs-container {
    display: flex; justify-content: space-between; align-items: center;
    gap: 10px; margin-bottom: 20px; background: #eef0f3; padding: 6px;
    border-radius: 12px; overflow: visible;
}
.tabs-scroll { display: flex; gap: 8px; overflow-x: auto; flex-grow: 1; scrollbar-width: none; }
.tabs-scroll::-webkit-scrollbar { display: none; }

.tab-btn {
    flex: 1; padding: 10px; border: none; background: transparent;
    border-radius: var(--radio-borde); font-weight: 600; color: var(--color-texto-secundario);
    cursor: pointer; transition: all 0.3s ease; font-family: var(--fuente-principal);
    display: flex; align-items: center; justify-content: center; gap: 8px; font-size: 0.9em; white-space: nowrap;
}
.tab-btn.active { background: var(--color-superficie); color: var(--color-primario-oscuro); box-shadow: var(--sombra-suave); }

/* Chip de Acción (Botón Retirar) */
.action-chip {
    padding: 8px 15px; border-radius: 20px; border: 1px solid transparent;
    font-size: 0.85rem; font-weight: 600; cursor: pointer; display: flex; align-items: center; gap: 6px;
    transition: all 0.2s; background: white; box-shadow: 0 2px 5px rgba(0,0,0,0.05); flex-shrink: 0;
}
.action-chip.danger { color: #c62828; border-color: #ffcdd2; }
.action-chip.danger:hover, .action-chip.danger.active { background-color: #c62828; color: white; box-shadow: 0 4px 10px rgba(198, 40, 40, 0.3); }

/* ====================================================== */
/* === 3. LISTA PRINCIPAL (GRID CARRITO GRANDE) === */
/* ====================================================== */
.inventory-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(150px, 1fr)); gap: 16px; }
.loading-state { grid-column: 1 / -1; text-align: center; padding: 40px; color: var(--color-texto-secundario); background: #f9f9f9; border-radius: 12px; border: 2px dashed var(--color-borde); }

/* Tarjeta GRANDE (Usada solo en la vista principal de herramientas) */
.tool-card {
    background: var(--color-superficie); border-radius: 12px; padding: 15px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.05); text-align: center;
    border: 2px solid transparent; position: relative;
    display: flex; flex-direction: column; align-items: center;
    transition: transform 0.2s, border-color 0.2s, opacity 0.2s;
    animation: popIn 0.01s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    overflow: hidden; cursor: pointer;
}
.tool-card:active { transform: scale(0.98); }
.tool-card.added { border-color: #2ecc71; background-color: #f0fff4; }

/* Estados Selección (Modo Retiro) */
.tool-card.selection-mode { cursor: pointer; transform: scale(0.98); opacity: 0.7; border-color: var(--color-borde); background-color: white; }
.tool-card.selection-mode.selected { border: 2px solid #c62828; background-color: #ffebee; opacity: 1; transform: scale(1); box-shadow: 0 5px 15px rgba(198, 40, 40, 0.15); }
.tool-card.selection-mode .btn-remove-item, .tool-card.selection-mode .btn-edit-main { display: none; }

/* Elementos internos Card Grande */
.btn-remove-item, .btn-edit-main {
    position: absolute; top: 8px; width: 32px; height: 32px; border-radius: 50%;
    border: none; cursor: pointer; display: flex; align-items: center; justify-content: center;
    transition: transform 0.2s; z-index: 5; box-shadow: 0 2px 5px rgba(0,0,0,0.1);
}
.btn-remove-item { right: 8px; background: #ffebee; color: #c62828; }
.btn-remove-item:hover { transform: scale(1.1); background: #ffcdd2; }
.btn-edit-main { left: 8px; background: #e3f2fd; color: #1565c0; }
.btn-edit-main:hover { transform: scale(1.1); background: #bbdefb; }

.tool-icon { font-size: 36px; color: var(--color-primario-claro); margin: 20px 0; }
.tool-card img { width: 100%; height: 110px; object-fit: cover; border-radius: 8px; margin-bottom: 10px; border: 1px solid #eee; }
.tool-name { font-weight: 700; font-size: 0.95em; color: var(--color-texto-principal); display: block; margin-bottom: 4px; line-height: 1.2; width: 100%; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }
.tool-serial { font-size: 0.8em; color: var(--color-texto-secundario); margin-bottom: 8px; display: block; }
.status-text { font-size: 0.65em; font-weight: 800; color: #2ecc71; letter-spacing: 0.5px; text-transform: uppercase; margin-top: auto; }

/* ====================================================== */
/* === 4. ACCIONES FLOTANTES (Footer y Botones) === */
/* ====================================================== */

/* 1. Botón "Finalizar Ingreso" (Footer) */
.floating-footer {
    position: fixed; 
    /* Calculado para estar encima del Navbar Global */
    bottom: calc(20px + var(--altura-footer-mobile, 70px));
    left: 0; right: 0; display: flex; justify-content: center; pointer-events: none;
    z-index: 55; background: transparent; border: none; box-shadow: none;
}
.btn-finish-floating {
    width: 93%;
    pointer-events: auto; background: var(--color-acento); color: var(--color-primario-oscuro);
    border: none; padding: 14px 40px; border-radius: 30px; font-weight: 700; font-size: 1rem;
    box-shadow: 0 6px 20px rgba(255, 191, 0, 0.5); cursor: pointer; transition: transform 0.2s;
}
.btn-finish-floating:active { transform: scale(0.95); }

/* 2. Botón FAB "+" (Heredado de global, ajustamos posición aquí) */
/* Debe estar más arriba que el botón de finalizar */
.fab-container-vertical { 
    bottom: calc(90px + var(--altura-footer-mobile, 70px)); 
}

/* 3. Acciones Bulk Delete (Barra flotante inferior al retirar) */
.floating-action-wrapper {
    position: fixed; 
    bottom: calc(30px + var(--altura-footer-mobile, 70px));
    left: 50%; transform: translateX(-50%); display: flex; gap: 10px;
    z-index: 100; animation: slideUp 0.3s ease;
}
.btn-floating-danger {
    background: #c62828; color: white; border: none; padding: 12px 25px; border-radius: 30px;
    font-weight: bold; box-shadow: 0 4px 15px rgba(0,0,0,0.2); cursor: pointer; display: flex; align-items: center; gap: 8px;
}
.btn-floating-secondary {
    background: white; color: #555; border: none; width: 45px; height: 45px; border-radius: 50%;
    box-shadow: 0 4px 15px rgba(0,0,0,0.1); cursor: pointer; display: flex; align-items: center; justify-content: center;
}

/* ====================================================== */
/* === 5. BOTÓN BULK CONFIRM (Usado dentro del panel) === */
/* ====================================================== */
/* Este estilo se usa cuando seleccionas ítems dentro del panel lateral */
.btn-bulk-confirm {
    position: sticky; bottom: 20px; width: 100%; margin-top: 20px; padding: 15px;
    background-color: var(--color-primario-oscuro); color: white; border: none; border-radius: 30px;
    font-weight: 700; box-shadow: 0 5px 15px rgba(0,0,0,0.2); cursor: pointer;
    z-index: 100; animation: popIn 0.3s ease;
}
.btn-bulk-confirm:hover { background-color: var(--color-acento); color: var(--color-primario-oscuro); }

/* Responsive */
@media screen and (max-width: 1024px) {
    .floating-footer { bottom: calc(var(--altura-footer-mobile) + 15px); }
    .floating-action-wrapper { bottom: calc(var(--altura-footer-mobile) + 85px); }
}