/* zonascriticas/empresas/static/empresas/css/empresas.css */

/* ============================================= */
/* === 1. LAYOUT ESPECÍFICO DE LA VISTA === */
/* ============================================= */

/* Ajuste del contenedor principal para esta vista */
.main-card {
    background: var(--color-superficie);
    border-radius: 16px;
    padding: 24px;
    border: 1px solid var(--color-borde);
    max-width: 1600px;
    width: 95%;
    margin: 0 auto;
    transition: max-width 0.4s ease, width 0.4s ease;
}

body.panel-is-open {
    overflow: hidden;
}

.grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
    gap: 24px;
}

/* ============================================= */
/* === 2. HEADER Y FILTROS === */
/* ============================================= */
.detalle-empresa-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: 16px;
    margin-bottom: 24px;
}
.detalle-empresa-header h2 {
    margin: 0;
    font-size: 1.75rem;
    font-weight: 700;
    color: var(--color-texto-principal);
}

.header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: 16px;
    margin-bottom: 24px;
    flex-wrap: wrap; 
}

/* Buscador específico con icono (hereda input global pero ajusta posición) */
.search-container { 
    position: relative; 
    flex-grow: 1;
    min-width: 250px;
}
.search-container .input-icon { 
    position: absolute; 
    top: 50%; 
    transform: translateY(-50%); 
    left: 16px; 
    color: var(--color-texto-secundario); 
    pointer-events: none;
    transition: color 0.2s ease;
}
.search-container .input-icon svg { width: 20px; height: 20px; }

.search-container input[type="search"] {
    /* Hereda estilos base de input global, solo forzamos padding específico */
    width: 100%; 
    padding: 12px 16px 12px 50px; 
    border-radius: var(--radio-borde);
    background-color: var(--color-fondo-app);
    border: 1px solid var(--color-borde);
    font-size: 16px;
}
.search-container input[type="search"]:focus {
    background-color: var(--color-superficie);
    border-color: var(--color-primario-oscuro);
    outline: none;
}

/* Grupo de Botones de Filtro (Pill shape) */
.filter-group {
    display: flex;
    background-color: var(--color-fondo-app);
    border-radius: var(--radio-borde);
    padding: 4px;
    border: 1px solid var(--color-borde);
}
.btn-filter {
    border: none;
    background-color: transparent;
    padding: 8px 16px;
    font-size: 14px;
    font-weight: 600;
    color: var(--color-texto-secundario);
    cursor: pointer;
    border-radius: 6px;
    transition: all 0.2s ease-out;
    white-space: nowrap;
}
.btn-filter.active {
    background-color: var(--color-primario-oscuro);
    color: var(--color-texto-sobre-primario);
    box-shadow: 0 2px 8px rgba(53, 36, 96, 0.2);
}

/* ============================================= */
/* === 3. TARJETAS DE EMPRESA (Grid Principal) === */
/* ============================================= */
.empleado-card {
    background: var(--color-superficie);
    border-radius: var(--radio-borde);
    padding: 16px;
    box-shadow: var(--sombra-suave);
    transition: all 0.3s ease;
    border: 1px solid var(--color-borde);
    display: flex;
    flex-direction: column;
    cursor: pointer;
}
.empleado-card:hover {
    transform: translateY(-5px);
    box-shadow: var(--sombra-hover);
}
.empleado-card.inactivo { opacity: 0.6; }

.empleado-header {
    display: flex;
    align-items: center;
    gap: 12px;
}

.empleado-avatar {
    flex-shrink: 0;
    width: 45px; height: 45px;
    border-radius: 50%;
    background-color: var(--color-fondo-app);
    display: flex;
    align-items: center; justify-content: center;
    color: var(--color-primario-oscuro);
    overflow: hidden;
}
.empleado-avatar img { width: 100%; height: 100%; object-fit: cover; }
.empleado-avatar svg { width: 24px; height: 24px; }

.empleado-info h3 {
    font-size: 17px; margin: 0;
    color: var(--color-texto-principal);
    font-weight: 600;
    overflow-wrap: break-word; word-break: break-word;
}
.empleado-info p {
    font-size: 13px; margin: 2px 0 0;
    color: var(--color-texto-secundario);
}

/* Detalles internos de la tarjeta */
.card-details {
    margin: 16px 0; padding: 0;
    flex-grow: 1;
    display: grid;
    grid-template-columns: auto 1fr;
    gap: 8px 12px;
    align-items: center;
    font-size: 14px;
    color: var(--color-texto-secundario);
}
.card-details dt { display: flex; align-items: center; justify-content: center; }
.card-details dt svg { width: 16px; height: 16px; }
.card-details dd {
    margin: 0;
    color: var(--color-texto-principal);
    overflow-wrap: break-word; word-break: break-word;
}

.empleado-footer {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-top: auto;
    padding-top: 12px;
    border-top: 1px solid var(--color-borde);
}
.status-label {
    font-size: 14px; font-weight: 500;
    color: var(--color-texto-secundario);
}

/* ============================================= */
/* === 4. COMPONENTES INTERNOS DEL PANEL === */
/* ============================================= */

/* Lista de Empleados dentro del Panel */
.panel-sub-list-container {
    margin-top: 24px; padding-top: 16px;
    border-top: 1px solid var(--color-borde);
}
.panel-sub-list-header {
    display: flex; justify-content: space-between;
    align-items: center; margin-bottom: 16px;
    flex-wrap: wrap; gap: 10px;
}
.panel-sub-list-header h4 {
    margin: 0; font-size: 16px;
    color: var(--color-texto-principal);
}

/* Tarjeta Compacta de Empleado */
.employee-card-compact {
    border: 1px solid var(--color-borde);
    border-radius: var(--radio-borde);
    padding: 12px; margin-bottom: 12px;
    transition: background-color 0.2s ease, box-shadow 0.2s ease;
}
.employee-card-compact[data-action="edit-employee"]:hover {
    background-color: var(--color-fondo-app);
    box-shadow: var(--sombra-suave);
}
.employee-card-compact.inactivo { opacity: 0.6; }
.employee-card-compact .empleado-header { cursor: pointer; }
.employee-card-compact .empleado-avatar { width: 40px; height: 40px; }
.employee-card-compact .empleado-info h5 { font-size: 15px; margin: 0; }
.employee-card-compact .card-details {
    grid-template-columns: 80px 1fr;
    cursor: pointer;
    gap: 4px 12px;
    font-size: 13px; margin: 12px 0;
}
.employee-card-compact .card-details dt {
    width: 80px; flex-shrink: 0;
    color: var(--color-texto-secundario);
}
.employee-card-compact .empleado-footer {
    border-top: 1px solid var(--color-borde);
    padding-top: 10px; margin-top: 12px;
}

/* Tarjeta de Información Editable (Info Empresa) */
.info-card {
    border: 1px solid var(--color-borde);
    border-radius: var(--radio-borde);
    position: relative;
    transition: background-color 0.3s ease;
}
.info-card.is-editing { background-color: var(--color-fondo-app); }

.info-card .edit-btn {
    position: absolute; top: 12px; right: 12px;
    background: var(--color-fondo-app);
    border: 1px solid var(--color-borde);
    border-radius: 50%;
    width: 36px; height: 36px;
    cursor: pointer;
    display: flex; align-items: center; justify-content: center;
    color: var(--color-texto-secundario);
    transition: all 0.2s ease;
    opacity: 1; transform: scale(1);
}
.info-card .edit-btn:hover {
    color: var(--color-primario-oscuro);
    border-color: var(--color-primario-oscuro);
}
.info-card .edit-btn svg { width: 18px; height: 18px; }
.info-card.is-editing .edit-btn { opacity: 0; transform: scale(0.5); pointer-events: none; }

.info-card .view-mode, .info-card .edit-mode { padding: 20px; }
.info-card .view-mode { opacity: 1; transition: opacity 0.3s ease; }
.info-card.is-editing .view-mode { display: none; opacity: 0; }
.info-card .edit-mode { display: none; }
.info-card.is-editing .edit-mode { display: block; }

.info-card-actions {
    display: flex; gap: 10px; margin-top: 20px;
}
.info-card-actions .btn-primary { flex-grow: 1; }

/* ============================================= */
/* === 5. OVERRIDES LIBRERÍAS EXTERNAS === */
/* ============================================= */

/* Syncfusion MultiSelect Overrides */
.input-group-full { margin-bottom: 20px; }
.input-group-full label {
    display: block; margin-bottom: 8px;
    font-size: 14px; color: var(--color-texto-secundario);
    font-weight: 600;
}
/* Re-estilizar para que coincida con el tema global */
.e-multi-select-wrapper {
    padding-left: 8px !important;
    border-color: var(--color-borde) !important;
    background-color: var(--color-superficie) !important;
    border-radius: var(--radio-borde) !important;
    min-height: 48px; /* Altura estándar de nuestros inputs */
}
.e-multi-select-wrapper.e-input-focus,
.e-multi-select-wrapper:focus-within {
    border-color: var(--color-primario-oscuro) !important;
    box-shadow: 0 0 0 3px rgba(53, 36, 96, 0.1) !important;
}
.e-multi-select-wrapper .e-chips {
    background-color: var(--color-primario-oscuro) !important;
    border-radius: 6px !important;
    color: var(--color-texto-sobre-primario) !important;
}
.e-multi-select-wrapper .e-chips .e-chipcontent { color: var(--color-texto-sobre-primario) !important; }
.e-chips .e-chips-close::before {
    color: var(--color-texto-sobre-primario) !important;
    font-weight: bold !important;
    margin-top: 2px !important;
}
.e-multi-select-wrapper .e-clear-icon { display: none !important; }

/* ============================================= */
/* === 6. MEDIA QUERIES (Mobile) === */
/* ============================================= */
@media (max-width: 1024px) {
    .main-card {
        width: 100%; padding: 16px; margin: 0;
        border: none; border-radius: 0; box-shadow: none;
        background-color: var(--color-fondo-app);
    }
    .detalle-empresa-header h2 { font-size: 1.5rem; }
    
    /* Layout vertical en móvil */
    .header { flex-direction: column; align-items: stretch; gap: 16px; }
    .filter-group { display: grid; grid-template-columns: 1fr 1fr 1fr; width: 100%; }
    .btn-filter { text-align: center; }
    
    /* Botón Registrar full width */
    .btn-primary#btn-registrar-empresa { width: 100%; padding: 14px; }
    
    .grid { grid-template-columns: 1fr; }
}