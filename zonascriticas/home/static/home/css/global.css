/* ============================================= */
/* === 1. CONFIGURACIÓN BASE (Variables) === */
/* ============================================= */
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');

:root {
    /* --- Paleta de Colores Corporativa --- */
    --color-primario-oscuro: #352460;
    --color-primario-medio: #632778;
    --color-primario-medio-hover: #4a1d5c;
    --color-primario-claro: #6a5e8a;
    --color-primario-hover-fondo: #1d1b31;
    
    --color-acento: #ffbf00;
    
    --color-fondo-app: #f0f2f5;
    --color-superficie: #ffffff;
    --color-borde: #e0e0e0;

    --color-texto-principal: #333333;
    --color-texto-secundario: #6c757d;
    --color-texto-sobre-primario: #ffffff;
    --color-texto-inverso: #ffffff;

    /* --- Sistema de Diseño --- */
    --fuente-principal: 'Inter', sans-serif;
    --radio-borde: 12px; /* Unificado a 12px para look moderno */
    --sombra-suave: 0 4px 12px rgba(0, 0, 0, 0.08);
    --sombra-hover: 0 8px 20px rgba(53, 36, 96, 0.15);
    
    /* --- Layout --- */
    --altura-header-mobile: 60px;
    --altura-footer-mobile: 70px;
    --ancho-sidebar: 280px;
    --ancho-sidebar-cerrado: 58px;

    /* --- Z-Index Layers --- */
    --z-fondo: -1;
    --z-contenido: 10;
    --z-overlay-panel: 1040;  
    --z-panel-lateral: 1050;  
    --z-modal: 2000; 
}

/* ============================================= */
/* === 2. RESET Y UTILIDADES === */
/* ============================================= */
* { box-sizing: border-box; margin: 0; padding: 0; }

body {
    font-family: var(--fuente-principal);
    background-color: var(--color-fondo-app);
    color: var(--color-texto-principal);
    overflow-x: hidden;
    -webkit-font-smoothing: antialiased;
}

/* Scrollbars Invisibles pero funcionales */
.no-scrollbar::-webkit-scrollbar { display: none; }
.no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }

.hidden { display: none !important; }
.text-center { text-align: center; }

/* ============================================= */
/* === 3. SISTEMA DE BOTONES (Global) === */
/* ============================================= */
.btn-base {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    border: none;
    border-radius: var(--radio-borde);
    padding: 12px 20px;
    font-size: 15px;
    font-weight: 600;
    cursor: pointer;
    text-decoration: none;
    transition: all 0.2s ease-out;
    white-space: nowrap;
    gap: 8px;
}

/* Botón Principal (Púrpura) */
.btn-primary {
    composes: btn-base;
    background-color: var(--color-primario-oscuro);
    color: var(--color-texto-sobre-primario);
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}
.btn-primary:hover {
    background-color: var(--color-primario-medio-hover);
    transform: translateY(-2px);
    box-shadow: var(--sombra-suave);
}
.btn-primary:disabled {
    background-color: var(--color-texto-secundario);
    cursor: not-allowed;
    transform: none;
    box-shadow: none;
}

/* Botón Secundario (Borde Gris) */
.btn-secondary {
    composes: btn-base;
    background-color: var(--color-superficie);
    color: var(--color-texto-secundario);
    border: 1px solid var(--color-borde);
}
.btn-secondary:hover {
    background-color: var(--color-fondo-app);
    border-color: #ced4da;
    color: var(--color-texto-principal);
}

/* Botón Peligro (Rojo) */
.btn-danger {
    composes: btn-base;
    background-color: #dc3545;
    color: white;
}
.btn-danger:hover { background-color: #c82333; }

/* ============================================= */
/* === 4. SISTEMA DE INPUTS (Input Groups) === */
/* ============================================= */
/* Este estilo soporta iconos y etiquetas flotantes */

.input-group {
    position: relative;
    margin-bottom: 20px; /* Espacio estándar entre inputs */
}

/* Icono dentro del input (Izquierda) */
.input-group .input-icon {
    position: absolute;
    left: 15px;
    top: 50%;
    transform: translateY(-50%);
    color: var(--color-texto-secundario);
    pointer-events: none;
    display: flex;
}
.input-group .input-icon svg, 
.input-group .input-icon i { 
    width: 20px; height: 20px; font-size: 1.1rem; 
}

/* Estilo base del campo */
.input-group input,
.input-group select,
.input-group textarea,
.styled-input { /* Alias para compatibilidad */
    width: 100%;
    padding: 14px 16px 14px 45px; /* Padding izquierdo para icono */
    border: 1px solid var(--color-borde);
    border-radius: var(--radio-borde);
    font-size: 16px;
    font-family: var(--fuente-principal);
    color: var(--color-texto-principal);
    background-color: var(--color-superficie);
    transition: all 0.2s ease-out;
    appearance: none; /* Elimina estilos nativos de SO */
}

/* Ajuste si NO hay icono */
.input-group.no-icon input,
.input-group.no-icon select { padding-left: 16px; }

/* Estados Focus */
.input-group input:focus,
.input-group select:focus,
.input-group textarea:focus {
    outline: none;
    border-color: var(--color-primario-oscuro);
    box-shadow: 0 0 0 3px rgba(53, 36, 96, 0.1);
}

/* Etiquetas Flotantes (Label Animations) */
.input-group label {
    position: absolute;
    left: 45px; /* Alineado con el texto del input */
    top: 50%;
    transform: translateY(-50%);
    color: var(--color-texto-secundario);
    font-size: 16px;
    pointer-events: none;
    transition: all 0.2s ease-out;
    background-color: transparent; 
    padding: 0 4px;
}

/* Cuando el input tiene foco o valor */
.input-group input:focus + label,
.input-group input:not(:placeholder-shown) + label,
.input-group select:focus + label,
.input-group select:not([value=""]):valid + label {
    top: 0;
    left: 40px;
    font-size: 12px;
    color: var(--color-primario-oscuro);
    background-color: var(--color-superficie); /* Tapa el borde superior */
    height: auto;
}

/* ============================================= */
/* === 5. COMPONENTES COMUNES === */
/* ============================================= */

/* --- Card Base (Contenedor blanco con sombra) --- */
.card-base {
    background: var(--color-superficie);
    border-radius: var(--radio-borde);
    padding: 20px;
    border: 1px solid var(--color-borde);
    box-shadow: var(--sombra-suave);
}

/* --- Image Upload Container (Area de Carga) --- */
.image-upload-container {
    border: 2px dashed var(--color-borde);
    border-radius: var(--radio-borde);
    background-color: #fafafa;
    position: relative;
    cursor: pointer;
    overflow: hidden;
    transition: all 0.2s ease-out;
    min-height: 180px;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-direction: column;
    margin-bottom: 20px;
}
.image-upload-container:hover {
    border-color: var(--color-primario-oscuro);
    background-color: #f4f6f9;
}
.image-upload-container img {
    max-width: 100%;
    max-height: 100%;
    object-fit: contain;
    z-index: 5;
}
.image-upload-placeholder {
    color: var(--color-texto-secundario);
    font-weight: 500;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 8px;
}
.image-upload-placeholder i { font-size: 2rem; color: var(--color-primario-claro); }

/* --- Switch de Estado (Toggle) --- */
.status-switch {
    position: relative;
    display: inline-block;
    width: 48px;
    height: 26px;
}
.status-switch input { opacity: 0; width: 0; height: 0; }
.status-slider {
    position: absolute;
    cursor: pointer;
    top: 0; left: 0; right: 0; bottom: 0;
    background-color: #ccc;
    transition: .4s;
    border-radius: 34px;
}
.status-slider:before {
    position: absolute;
    content: "";
    height: 20px;
    width: 20px;
    left: 3px;
    bottom: 3px;
    background-color: white;
    transition: .4s;
    border-radius: 50%;
}
input:checked + .status-slider { background-color: var(--color-primario-oscuro); }
input:checked + .status-slider:before { transform: translateX(22px); }

/* ============================================= */
/* === 6. INFRAESTRUCTURA DEL PANEL GLOBAL === */
/* ============================================= */
/* (Mantenemos tu CSS de panel existente aquí abajo) */
.global-overlay {
    position: fixed; top: 0; left: 0; right: 0; bottom: 0;
    background-color: rgba(0, 0, 0, 0.5); z-index: var(--z-overlay-panel);
    opacity: 0; visibility: hidden;
    transition: opacity 0.3s ease, visibility 0.3s ease;
    backdrop-filter: blur(2px);
}
.global-panel {
    position: fixed; top: 0; right: 0; bottom: 0;
    width: 100%; max-width: 500px;
    background-color: var(--color-superficie); z-index: var(--z-panel-lateral);
    box-shadow: -5px 0 15px rgba(0,0,0,0.1);
    transform: translateX(100%);
    transition: transform 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
    display: flex; flex-direction: column;
}
body.panel-is-open { overflow: hidden; }
body.panel-is-open .global-overlay { opacity: 1; visibility: visible; }
body.panel-is-open .global-panel { transform: translateX(0); }

.global-panel-header {
    height: 60px; display: flex; align-items: center; padding: 0 15px;
    border-bottom: 1px solid var(--color-borde);
    background-color: var(--color-primario-oscuro); color: white; flex-shrink: 0;
}
.global-panel-title { font-weight: 600; font-size: 1.1rem; margin-left: 10px; flex-grow: 1; }
.global-panel-close-btn { background: none; border: none; color: white; cursor: pointer; }
.global-panel-body { flex-grow: 1; overflow-y: auto; padding: 20px; }